"use strict";(globalThis.webpackChunkmain=globalThis.webpackChunkmain||[]).push([["libs_common_hooks_src_index_ts-_e5460","libs_common_hooks_src_index_ts-_e5461"],{"../../../libs/common/hooks/src/index.ts":(e,t,s)=>{s.r(t),s.d(t,{disconnectSocket:()=>b,initiateSocket:()=>h,sendBeganTyping:()=>k,sendMessage:()=>f,sendMessageRead:()=>v,subscribetoChat:()=>w,switchRooms:()=>j,useAuthenticatedSocket:()=>l,useClickedOutside:()=>i,useScroll:()=>c,useStore:()=>r,useWindowSize:()=>o});var n=s("webpack/sharing/consume/default/react/react");function i(e,t,s){(0,n.useEffect)((()=>{function n(n){e.forEach((e=>{!e.current||e.current.contains(n.target)||(null==s?void 0:s.includes(e))||t()}))}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}}),[e,t,s])}function o(){const[e,t]=(0,n.useState)({width:void 0,height:void 0});return(0,n.useEffect)((()=>{function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),e}function c(){const[e,t]=(0,n.useState)(0),[s,i]=(0,n.useState)(0),[o,c]=(0,n.useState)(0);let a=null;return(0,n.useEffect)((()=>{const n=()=>{a&&clearTimeout(a),i(window.scrollY),a=setTimeout((()=>{c(e-s),t(s)}),200)};return window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}}),[s,o]),[s,o]}var a=s("../../../node_modules/zustand/esm/index.js"),d=s("../../../node_modules/zustand/esm/middleware.js");const r=(0,a.Z)((0,d.mW)(((e,t)=>({isAuthenticated:!1,token:void 0,user:void 0,notifications:[],setIsAuthenticated:t=>{e((e=>Object.assign(Object.assign({},e),{isAuthenticated:t})))},setToken:t=>{e((e=>Object.assign(Object.assign({},e),{token:t})))},setUser:t=>{e((e=>Object.assign(Object.assign({},e),{user:t})))},setNotifications:t=>{e((e=>Object.assign(Object.assign({},e),{notifications:t})))},addNotification:t=>{e((e=>Object.assign(Object.assign({},e),{notifications:[...e.notifications,t]})))},removeNotification:t=>{e((e=>Object.assign(Object.assign({},e),{notifications:e.notifications.filter((e=>e.id!==t))})))}}))));var u=s("../../../node_modules/socket.io-react-hook/lib/cjs/index.js");const l=(e,t)=>(0,u.useSocket)({url:e||"http://localhost:5003",namespace:t||"",enabled:!0});var m=s("../../../node_modules/socket.io-client/build/esm/index.js");let g;const h=e=>(g=(0,m.io)("http://localhost:5003/messages"),console.log("Connecting socket...."),g&&e.room&&g.emit("join",e),g),b=()=>{console.log("Disconnecting socket...."),g&&g.disconnect()},w=e=>!g||(g.on("chat",(t=>(console.log("Received message from server: ",t.message),e(null,t)))),!1),f=e=>{g&&g.emit("chat",e)},k=e=>{g&&g.emit("begantyping",e)},v=e=>{g&&g.emit("messageread",e)},j=e=>{g&&g.emit("switch",e)}}}]);
//# sourceMappingURL=f58ea4f0242a3bc82fde.js.map